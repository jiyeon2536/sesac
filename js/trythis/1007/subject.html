<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<style>
			.subject {
				margin-bottom: 10px;
			}
		</style>
	</head>
	<body>
		<script>
			document.addEventListener('DOMContentLoaded', () => {
				const WEEKS = '일월화수목금토'

				const createGnwFn = () => {
					let widx = -1
					return function getNextWeek() {
						widx += 1
						if (widx >= WEEKS.length) widx = 0
						return `${WEEKS[widx]}`
					}
				}

				const debounce = (cb, delay) => {
					let timer
					return (...args) => {
						if (timer) clearTimeout(timer)
						timer = setTimeout(cb, delay, ...args)
					}
				}

				const throttle = (cb, delay) => {
					let timer
					return (tag, ...args) => {
						if (timer) return
						timer = setTimeout(() => {
							const res = cb(...args)
							tag.innerText = res
							timer = null
						}, delay)
					}
				}

				const $body = document.querySelector('body')

				function createSubjectSelector(subject, getNextWeek) {
					const $div = document.createElement('div')
					const $span = document.createElement('span')
					const $input = document.createElement('input')
					$input.setAttribute('type', 'button')
					$input.setAttribute('value', `${subject} 수업 요일 선택>`)
					$div.classList.add('subject')

					$span.innerText = '요일을 선택하세요'

					const act = debounce((res) => {
						$span.innerText = res
					}, 500)

					const act1 = throttle(getNextWeek, 500)

					$input.addEventListener('click', () => {
						if (subject === '국어') {
							const res = getNextWeek()
							act(res)
						} else if (subject === '수학') {
							act1($span)
						}
					})

					$body.appendChild($div)
					$body.appendChild($input)
					$body.appendChild($span)
				}

				createSubjectSelector('국어', createGnwFn())
				createSubjectSelector('수학', createGnwFn())
			})
		</script>
	</body>
</html>
<!-- 
<script>

	// 	2. 지난 번 subject.html에서, 검색어 입력 상자를 만들고,
	// 	입력에 0.5초 debounce 걸기 - 검색(출력).

	//     // 검색어 입력시 console 창 내용    $inputBox.oninput = debounce(...)

	// 2022-09-01T07:55:30.747Z search>> 홍길
	// 2022-09-01T07:55:32.058Z search>> 홍길동


</script> -->
